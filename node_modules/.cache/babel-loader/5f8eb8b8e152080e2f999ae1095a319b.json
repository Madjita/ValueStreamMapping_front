{"ast":null,"code":"import { createSlice, current } from '@reduxjs/toolkit';\n\n/*let initialState: useOrdersType ={\n    orders: [],\n    loading: true,\n    changeList: false,\n    error: null\n}*/\nconst useOrdersReducer = createSlice({\n  name: 'orders',\n  initialState: {\n    orders: new Array(),\n    loading: true,\n    changeList: false,\n    error: null\n  },\n  reducers: {\n    fetch_orders(state) {//state.loading = true     \n    },\n\n    fetch_orders_success: (state, action) => {\n      var currentState = current(state);\n\n      if (currentState.orders.length === 0 || currentState.orders.length < action.payload.length) {\n        console.log(\"sdf =\", current(state));\n        return { ...state,\n          orders: action.payload,\n          loading: false\n        };\n      }\n\n      return { ...state,\n        orders: action.payload,\n        loading: false\n      };\n      /* action.payload.map((item:IDataOrder,index: number )=>{\n           if(item.tActual != 0  || item.tActual != null)\n           {\n               console.log(\"fetch_orders_update = \" +item.tActual);\n               console.log(\"fetch_orders_update 2= \" +currentState.orders[index].orderRole, item.orderRole );\n               fetch_orders_update(item)\n           }\n       })*/\n      //state.orders = action.payload \n      //state.loading = false     \n    },\n\n    fetch_orders_success2(state, action) {\n      return { ...state,\n        orders2: action.payload,\n        loading: false\n      };\n    },\n\n    fetch_orders_error(state, action) {\n      state.loading = false;\n      state.error = action.payload;\n    },\n\n    fetch_orders_add(state, action) {\n      console.log(\"fetch_orders_add =\", state, action); //state.orders.push(action.payload);\n    },\n\n    fetch_orders_update(state, action) {\n      var currentState = current(state);\n      let newData = currentState.orders.map(o => {\n        if (o.id === action.payload.id) {\n          return action.payload;\n        }\n      });\n      return { ...state,\n        orders: newData\n      };\n    }\n\n  }\n  /*extraReducers:{\n   }*/\n\n});\nexport default useOrdersReducer.reducer;\nexport const {\n  fetch_orders,\n  fetch_orders_success,\n  fetch_orders_error,\n  fetch_orders_add,\n  fetch_orders_update,\n  fetch_orders_success2\n} = useOrdersReducer.actions;","map":{"version":3,"sources":["/Users/sergeismogliuk/Documents/Project/My_experience/New_project_diplom/front/src/store/reducers/useOrdersReducer.tsx"],"names":["createSlice","current","useOrdersReducer","name","initialState","orders","Array","loading","changeList","error","reducers","fetch_orders","state","fetch_orders_success","action","currentState","length","payload","console","log","fetch_orders_success2","orders2","fetch_orders_error","fetch_orders_add","fetch_orders_update","newData","map","o","id","reducer","actions"],"mappings":"AAAA,SAASA,WAAT,EAAoCC,OAApC,QAAmD,kBAAnD;;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMC,gBAAgB,GAAGF,WAAW,CAAC;AACjCG,EAAAA,IAAI,EAAE,QAD2B;AAEjCC,EAAAA,YAAY,EAAE;AACVC,IAAAA,MAAM,EAAE,IAAIC,KAAJ,EADE;AAEVC,IAAAA,OAAO,EAAE,IAFC;AAGVC,IAAAA,UAAU,EAAE,KAHF;AAIVC,IAAAA,KAAK,EAAE;AAJG,GAFmB;AAQjCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,YAAY,CAACC,KAAD,EAAQ,CAChB;AACH,KAHK;;AAINC,IAAAA,oBAAoB,EAAE,CAACD,KAAD,EAAOE,MAAP,KAAkB;AAEpC,UAAIC,YAAY,GAAGd,OAAO,CAACW,KAAD,CAA1B;;AAEA,UAAGG,YAAY,CAACV,MAAb,CAAoBW,MAApB,KAA+B,CAA/B,IAAoCD,YAAY,CAACV,MAAb,CAAoBW,MAApB,GAA6BF,MAAM,CAACG,OAAP,CAAeD,MAAnF,EACA;AACIE,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBlB,OAAO,CAACW,KAAD,CAA3B;AAEA,eAAO,EAAC,GAAGA,KAAJ;AAAWP,UAAAA,MAAM,EAAES,MAAM,CAACG,OAA1B;AAAmCV,UAAAA,OAAO,EAAE;AAA5C,SAAP;AACH;;AAED,aAAO,EAAC,GAAGK,KAAJ;AAAWP,QAAAA,MAAM,EAAES,MAAM,CAACG,OAA1B;AAAmCV,QAAAA,OAAO,EAAE;AAA5C,OAAP;AAGD;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AAEY;AACA;AAEH,KA9BK;;AA+BNa,IAAAA,qBAAqB,CAACR,KAAD,EAAOE,MAAP,EAAc;AAC/B,aAAO,EAAC,GAAGF,KAAJ;AAAWS,QAAAA,OAAO,EAAEP,MAAM,CAACG,OAA3B;AAAoCV,QAAAA,OAAO,EAAE;AAA7C,OAAP;AACH,KAjCK;;AAkCNe,IAAAA,kBAAkB,CAACV,KAAD,EAAQE,MAAR,EAAgB;AAC9BF,MAAAA,KAAK,CAACL,OAAN,GAAgB,KAAhB;AACAK,MAAAA,KAAK,CAACH,KAAN,GAAcK,MAAM,CAACG,OAArB;AACH,KArCK;;AAsCNM,IAAAA,gBAAgB,CAACX,KAAD,EAAQE,MAAR,EAAe;AAC3BI,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCP,KAAjC,EAAuCE,MAAvC,EAD2B,CAE3B;AACH,KAzCK;;AA0CNU,IAAAA,mBAAmB,CAACZ,KAAD,EAAQE,MAAR,EAAe;AAC9B,UAAIC,YAAY,GAAGd,OAAO,CAACW,KAAD,CAA1B;AAGD,UAAIa,OAAO,GAAIV,YAAY,CAACV,MAAb,CAAoBqB,GAApB,CAAwBC,CAAC,IAAI;AACvC,YAAIA,CAAC,CAACC,EAAF,KAASd,MAAM,CAACG,OAAP,CAAeW,EAA5B,EAAgC;AAC9B,iBAAOd,MAAM,CAACG,OAAd;AACD;AACJ,OAJa,CAAf;AAOC,aAAO,EAAC,GAAGL,KAAJ;AAAWP,QAAAA,MAAM,EAAEoB;AAAnB,OAAP;AACH;;AAtDK;AAwDV;AACJ;;AAjEqC,CAAD,CAApC;AAoEA,eAAevB,gBAAgB,CAAC2B,OAAhC;AACA,OAAO,MAAM;AAAElB,EAAAA,YAAF;AAAgBE,EAAAA,oBAAhB;AAAsCS,EAAAA,kBAAtC;AAAyDC,EAAAA,gBAAzD;AAA0EC,EAAAA,mBAA1E;AAA8FJ,EAAAA;AAA9F,IAAwHlB,gBAAgB,CAAC4B,OAA/I","sourcesContent":["import { createSlice, PayloadAction,current } from '@reduxjs/toolkit'\nimport IDataOrder from '../../Component/Data/IDataOrder'\nimport { useOrdersType } from '../../type/useOrdersType'\n\n\n/*let initialState: useOrdersType ={\n    orders: [],\n    loading: true,\n    changeList: false,\n    error: null\n}*/\n\nconst useOrdersReducer = createSlice({  \n    name: 'orders',  \n    initialState: {\n        orders: new Array as IDataOrder[],\n        loading: true,\n        changeList: false,\n        error: null\n    } as useOrdersType,  \n    reducers: {       \n        fetch_orders(state) {  \n            //state.loading = true     \n        },\n        fetch_orders_success: (state,action) => {   \n\n            var currentState = current(state);\n\n            if(currentState.orders.length === 0 || currentState.orders.length < action.payload.length)\n            {\n                console.log(\"sdf =\",current(state))\n\n                return {...state, orders: action.payload, loading: false }\n            }\n\n            return {...state, orders: action.payload, loading: false }\n\n\n           /* action.payload.map((item:IDataOrder,index: number )=>{\n                if(item.tActual != 0  || item.tActual != null)\n                {\n                    console.log(\"fetch_orders_update = \" +item.tActual);\n                    console.log(\"fetch_orders_update 2= \" +currentState.orders[index].orderRole, item.orderRole );\n                    fetch_orders_update(item)\n                }\n            })*/\n\n            //state.orders = action.payload \n            //state.loading = false     \n\n        },\n        fetch_orders_success2(state,action){\n            return {...state, orders2: action.payload, loading: false }\n        },     \n        fetch_orders_error(state, action) {     \n            state.loading = false    \n            state.error = action.payload    \n        },\n        fetch_orders_add(state, action){\n            console.log(\"fetch_orders_add =\",state,action)\n            //state.orders.push(action.payload);\n        },\n        fetch_orders_update(state, action){\n            var currentState = current(state);\n\n\n           let newData  = currentState.orders.map(o => {\n                if (o.id === action.payload.id) {\n                  return action.payload;\n                }\n            }) as IDataOrder[]\n\n\n            return {...state, orders: newData}\n        }   \n    },\n    /*extraReducers:{\n\n    }*/\n})\nexport default useOrdersReducer.reducer\nexport const { fetch_orders, fetch_orders_success, fetch_orders_error,fetch_orders_add,fetch_orders_update,fetch_orders_success2 } = useOrdersReducer.actions"]},"metadata":{},"sourceType":"module"}
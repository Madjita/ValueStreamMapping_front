{"ast":null,"code":"var _jsxFileName = \"/Users/sergeismogliuk/Documents/Project/My_experience/New_project_diplom/front/src/Component/PageExample/DemoArchive.tsx\";\nimport * as React from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\n/*import {\n  DataGridPro,\n  GridApiRef,\n  GridColumns,\n  gridColumnVisibilityModelSelector,\n  GridEvents,\n  GridRowGroupingModel,\n  useGridApiRef,\n  GridColDef,\n  GridRowModel\n} from '@mui/x-data-grid-pro';*/\n\nimport moment from 'moment';\nimport OrderRole from '../Data/OrderRole';\nimport DoneIcon from '@mui/icons-material/Done';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Button from '@mui/material/Button';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DemoArchive = props => {\n  var _props$orders;\n\n  //const [tableData, setTableData] = React.useState<Order_view[]>(props.orders != undefined ? props.orders : [])\n  if (props.orders == undefined) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (((_props$orders = props.orders) === null || _props$orders === void 0 ? void 0 : _props$orders.length) > 0) {\n    var _props$orders2;\n\n    (_props$orders2 = props.orders) === null || _props$orders2 === void 0 ? void 0 : _props$orders2.forEach((element, i) => {\n      element.id = i + 1;\n    });\n  }\n\n  const splitTime = time => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: time.split(' ').map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginBottom: '0',\n            marginTop: '0'\n          },\n          children: item\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  };\n\n  const GetOrderRole = item => {\n    let icon = null;\n\n    switch (item) {\n      case OrderRole.ArchiveBad:\n        icon = /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 18\n        }, this);\n        break;\n\n      case OrderRole.ArchiveGood:\n        icon = /*#__PURE__*/_jsxDEV(DoneIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 18\n        }, this);\n        break;\n\n      default:\n        break;\n    }\n\n    return icon;\n  };\n\n  const getGridDef = v => {\n    let columns = [];\n\n    switch (v) {\n      case 'archive':\n        columns = [{\n          field: 'id',\n          headerName: '№',\n          width: 90\n        }, {\n          field: 'name',\n          headerName: 'Заказ',\n          width: 120,\n          minWidth: 120,\n          maxWidth: 150,\n          editable: false\n        }, {\n          field: 'limitation',\n          headerName: 'Срок',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.value).format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tStart',\n          headerName: 'Добавлен',\n          type: 'number',\n          width: 120,\n          minWidth: 120,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.row.tStart).format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tPlan',\n          headerName: 'План',\n          type: 'number',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.row.tStart).add(params === null || params === void 0 ? void 0 : params.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tFuture',\n          headerName: 'Прогноз',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.row.tStart).add(params === null || params === void 0 ? void 0 : params.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tFuture2',\n          headerName: 'Прогноз временной',\n          width: 160,\n          minWidth: 160,\n          maxWidth: 200,\n          editable: true,\n          renderCell: params => splitTime(moment.unix(params === null || params === void 0 ? void 0 : params.row.tFuture).utc().format('HH:mm:ss'))\n        }, {\n          field: 'tStop',\n          headerName: 'Завершился',\n          width: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.row.tStop).format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tActual',\n          headerName: 'Завершился за',\n          width: 150,\n          minWidth: 150,\n          maxWidth: 200,\n          editable: true,\n          renderCell: params => splitTime(moment.unix(params === null || params === void 0 ? void 0 : params.row.tActual).utc().format('HH:mm:ss'))\n        }, {\n          field: 'orderRole',\n          headerName: 'Статус',\n          width: 150,\n          minWidth: 150,\n          maxWidth: 200,\n          editable: true,\n          renderCell: params => GetOrderRole(params === null || params === void 0 ? void 0 : params.value)\n        }\n        /*\n        {\n          field: 'fullName',\n          headerName: 'Full name',\n          description: 'This column has a value getter and is not sortable.',\n          sortable: false,\n          width: 160,\n          valueGetter: (params: GridValueGetterParams) =>\n            `${params.getValue(params.id, 'orderName') || ''} ${\n              params.getValue(params.id, 'limitation') || ''\n            }`,\n        },*/\n        ];\n        break;\n\n      case 'prepair':\n        columns = [{\n          field: 'id',\n          headerName: '№',\n          width: 90\n        }, {\n          field: 'name',\n          headerName: 'Заказ',\n          width: 120,\n          minWidth: 120,\n          maxWidth: 150,\n          editable: false\n        }, {\n          field: 'limitation',\n          headerName: 'Срок',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.value).format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tAdd',\n          headerName: 'Добавлен',\n          type: 'number',\n          width: 120,\n          minWidth: 120,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.value).format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tPlan',\n          headerName: 'План',\n          type: 'number',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.row.tAdd).add(params === null || params === void 0 ? void 0 : params.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tFuture',\n          headerName: 'Прогноз',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => splitTime(moment(params === null || params === void 0 ? void 0 : params.row.tAdd).add(params === null || params === void 0 ? void 0 : params.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n        }, {\n          field: 'tFuture2',\n          headerName: 'Прогноз временной',\n          width: 160,\n          minWidth: 160,\n          maxWidth: 200,\n          editable: true,\n          renderCell: params => splitTime(moment.unix(params === null || params === void 0 ? void 0 : params.row.tFuture).utc().format('HH:mm:ss'))\n        }, {\n          field: 'orderProduction_views',\n          headerName: 'Количество продуктов',\n          width: 160,\n          minWidth: 160,\n          maxWidth: 200,\n          editable: true,\n          renderCell: params => {\n            let items = params === null || params === void 0 ? void 0 : params.value;\n            let list = items.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: index,\n                children: [item.name + \" ( \" + item.orderProductionItems.length + ' )', \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 24\n              }, this);\n            });\n            return /*#__PURE__*/_jsxDEV(FormControl, {\n              variant: \"standard\",\n              sx: {\n                m: 1,\n                minWidth: 120\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"demo-simple-select-standard-label\",\n                id: \"demo-simple-select-standard\",\n                value: list[0],\n                label: \"Age\",\n                children: list\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this);\n          }\n        }, {\n          field: 'orderRole',\n          headerName: 'Статус',\n          width: 100,\n          minWidth: 100,\n          maxWidth: 150,\n          editable: true,\n          renderCell: params => {\n            if (moment(params === null || params === void 0 ? void 0 : params.row.tAdd).add(params === null || params === void 0 ? void 0 : params.row.tFuture, 'seconds').isBefore(params === null || params === void 0 ? void 0 : params.row.limitation)) {\n              return /*#__PURE__*/_jsxDEV(DoneIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 24\n              }, this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 24\n              }, this);\n            }\n          }\n        }, {\n          field: 'simulation',\n          headerName: 'Запустить симуляцию',\n          width: 200,\n          minWidth: 200,\n          maxWidth: 250,\n          editable: true,\n          renderCell: params => {\n            if (props.startSimulation != undefined) {\n              return /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                size: \"small\",\n                onClick: async () => {\n                  var _props$startSimulatio;\n\n                  await ((_props$startSimulatio = props.startSimulation) === null || _props$startSimulatio === void 0 ? void 0 : _props$startSimulatio.call(null, params === null || params === void 0 ? void 0 : params.row.name, true));\n                },\n                children: \"\\u0417\\u0430\\u043F\\u0443\\u0441\\u0442\\u0438\\u0442\\u044C \\u0441\\u0438\\u043C\\u0443\\u043B\\u044F\\u0446\\u0438\\u044E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 27\n              }, this);\n            }\n          }\n        }];\n        break;\n    }\n\n    return columns;\n  };\n\n  const convertToTime = t => {\n    return moment.unix(t).utc().format('H:m:s');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '700px',\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(DataGrid, {\n      columns: getGridDef(props.view),\n      rows: props.orders,\n      pageSize: 50,\n      rowsPerPageOptions: [50] //checkboxSelection\n      ,\n      disableSelectionOnClick: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 384,\n    columnNumber: 5\n  }, this);\n};\n\n_c = DemoArchive;\nexport default DemoArchive;\n\nvar _c;\n\n$RefreshReg$(_c, \"DemoArchive\");","map":{"version":3,"sources":["/Users/sergeismogliuk/Documents/Project/My_experience/New_project_diplom/front/src/Component/PageExample/DemoArchive.tsx"],"names":["React","DataGrid","moment","OrderRole","DoneIcon","CloseIcon","Button","MenuItem","FormControl","Select","DemoArchive","props","orders","undefined","length","forEach","element","i","id","splitTime","time","split","map","item","index","marginBottom","marginTop","GetOrderRole","icon","ArchiveBad","ArchiveGood","getGridDef","v","columns","field","headerName","width","minWidth","maxWidth","editable","renderCell","params","value","format","type","row","tStart","add","unix","tFuture","utc","tStop","tActual","tAdd","items","list","name","orderProductionItems","m","isBefore","limitation","startSimulation","call","convertToTime","t","height","view"],"mappings":"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","sourcesContent":["import * as React from 'react';\n\nimport { DataGrid, GridColDef, GridValueGetterParams,GridRenderCellParams } from '@mui/x-data-grid';\n/*import {\n  DataGridPro,\n  GridApiRef,\n  GridColumns,\n  gridColumnVisibilityModelSelector,\n  GridEvents,\n  GridRowGroupingModel,\n  useGridApiRef,\n  GridColDef,\n  GridRowModel\n} from '@mui/x-data-grid-pro';*/\n\nimport moment from 'moment';\nimport Order_view,{OrderProduction_view} from '../Data/IDataOrder/IDataOrder';\n\nimport OrderRole from '../Data/OrderRole';\n\nimport ThumbUpAltIcon from '@mui/icons-material/ThumbUpAlt';\nimport ThumbDownAltIcon from '@mui/icons-material/ThumbDownAlt';\n\nimport DoneIcon from '@mui/icons-material/Done';\nimport CloseIcon from '@mui/icons-material/Close';\n\nimport Button from '@mui/material/Button';\n\nimport axios from 'axios';\nimport ip,{port} from \"../../global\";\n\n\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\n\n\nconst DemoArchive = (props:{orders?: Order_view[], view: string, startSimulation?: (name: string, sim: boolean) => Promise<void> }) => {\n  \n  //const [tableData, setTableData] = React.useState<Order_view[]>(props.orders != undefined ? props.orders : [])\n\n  if(props.orders == undefined)\n  {\n    return <div></div>\n  }\n\n  if(props.orders?.length > 0 )\n  {\n    props.orders?.forEach((element, i) => {\n          element.id = i+1;\n    });\n  }\n\n\n  const splitTime = (time: string) => {\n\n    return (\n      <div>\n      {time.split(' ').map((item,index) => {\n         return <p key={index} style={{marginBottom: '0', marginTop: '0'}}>{item}</p>\n      })}\n      </div>\n    )\n  }\n\n  const  GetOrderRole = (item:OrderRole ) =>{\n\n    let icon = null;\n\n    switch(item)\n    {\n        case OrderRole.ArchiveBad:\n          icon = <CloseIcon/>\n            break;\n        case OrderRole.ArchiveGood:\n          icon = <DoneIcon/>\n            break;\n        default:\n            break;\n    }\n\n    return icon;\n\n  }\n\n\n\n\n\n  const getGridDef = (v : string ) => {\n   let columns: GridColDef[] = [];\n\n    switch(v)\n    {\n      case 'archive':\n        \n        columns = [\n          { field: 'id', headerName: '№', width: 90 },\n          {\n            field: 'name',\n            headerName: 'Заказ',\n            width: 120,\n            minWidth: 120, \n            maxWidth: 150,\n            editable: false,\n          },\n          {\n            field: 'limitation',\n            headerName: 'Срок',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.value).format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n          {\n            field: 'tStart',\n            headerName: 'Добавлен',\n            type: 'number',\n            width: 120,\n            minWidth: 120, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n                splitTime( moment(params?.row.tStart).format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n         \n          {\n            field: 'tPlan',\n            headerName: 'План',\n            type: 'number',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.row.tStart).add(params?.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n             )\n          },\n          \n          {\n            field: 'tFuture',\n            headerName: 'Прогноз',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.row.tStart).add(params?.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n          {\n            field: 'tFuture2',\n            headerName: 'Прогноз временной',\n            width: 160,\n            minWidth: 160, \n            maxWidth: 200,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment.unix(params?.row.tFuture).utc().format('HH:mm:ss'))\n              )\n          },\n          {\n            field: 'tStop',\n            headerName: 'Завершился',\n            width: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.row.tStop).format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n          {\n            field: 'tActual',\n            headerName: 'Завершился за',\n            width: 150,\n            minWidth: 150, \n            maxWidth: 200,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment.unix(params?.row.tActual).utc().format('HH:mm:ss'))\n              )\n          },\n          {\n            field: 'orderRole',\n            headerName: 'Статус',\n            width: 150,\n            minWidth: 150, \n            maxWidth: 200,\n            editable: true,\n            renderCell: (params) => (\n              GetOrderRole(params?.value)\n              )\n          },\n          \n          \n          /*\n          {\n            field: 'fullName',\n            headerName: 'Full name',\n            description: 'This column has a value getter and is not sortable.',\n            sortable: false,\n            width: 160,\n            valueGetter: (params: GridValueGetterParams) =>\n              `${params.getValue(params.id, 'orderName') || ''} ${\n                params.getValue(params.id, 'limitation') || ''\n              }`,\n          },*/\n        ];\n      \n\n        break;\n      case 'prepair':\n\n\n\n        columns = [\n          { field: 'id', headerName: '№', width: 90 },\n          {\n            field: 'name',\n            headerName: 'Заказ',\n            width: 120,\n            minWidth: 120, \n            maxWidth: 150,\n            editable: false,\n          },\n          {\n            field: 'limitation',\n            headerName: 'Срок',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.value).format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n          {\n            field: 'tAdd',\n            headerName: 'Добавлен',\n            type: 'number',\n            width: 120,\n            minWidth: 120, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n                splitTime( moment(params?.value).format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n         \n          {\n            field: 'tPlan',\n            headerName: 'План',\n            type: 'number',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.row.tAdd).add(params?.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n             )\n          },\n          {\n            field: 'tFuture',\n            headerName: 'Прогноз',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment(params?.row.tAdd).add(params?.value, 'seconds').format('MM/DD/YYYY HH:mm:ss'))\n              )\n          },\n          {\n            field: 'tFuture2',\n            headerName: 'Прогноз временной',\n            width: 160,\n            minWidth: 160, \n            maxWidth: 200,\n            editable: true,\n            renderCell: (params) => (\n              splitTime( moment.unix(params?.row.tFuture).utc().format('HH:mm:ss'))\n              )\n          },\n          {\n            field: 'orderProduction_views',\n            headerName: 'Количество продуктов',\n            width: 160,\n            minWidth: 160, \n            maxWidth: 200,\n            editable: true,\n            renderCell: (params) => {\n\n              let items =  params?.value as OrderProduction_view[]\n\n              let list = items.map((item,index) => {\n\n                return <MenuItem value={index}>{item.name + \" ( \" + item.orderProductionItems.length + ' )'} </MenuItem>\n              })\n              \n              return (\n\n                <FormControl variant=\"standard\" sx={{ m: 1, minWidth: 120 }}>\n                <Select\n                  labelId=\"demo-simple-select-standard-label\"\n                  id=\"demo-simple-select-standard\"\n                  value={list[0]}\n                  label=\"Age\"\n                >\n                 {list}\n                </Select>\n                </FormControl>\n\n\n\n              )\n             \n            }\n          },\n          {\n            field: 'orderRole',\n            headerName: 'Статус',\n            width: 100,\n            minWidth: 100, \n            maxWidth: 150,\n            editable: true,\n            renderCell: (params) => {\n\n              if(moment(params?.row.tAdd).add(params?.row.tFuture, 'seconds').isBefore(params?.row.limitation))\n              {\n                return <DoneIcon/>;\n              }\n              else\n              {\n                return <CloseIcon/>\n              }\n\n            }\n          },\n          {\n            field: 'simulation',\n            headerName: 'Запустить симуляцию',\n            width: 200,\n            minWidth: 200, \n            maxWidth: 250,\n            editable: true,\n            renderCell: (params) => {\n\n              if(props.startSimulation != undefined)\n                {\n                  return  <Button variant=\"outlined\" size=\"small\" onClick={  async () => {  await props.startSimulation?.call(null,params?.row.name, true); } }>\n                  Запустить симуляцию\n                </Button>\n                }\n\n            }\n          }\n          \n        ];\n      \n\n        break;\n    }\n\n    return columns;\n  }\n\n\n\n\n\n\n\n  const convertToTime = (t: number) =>\n  {\n    return moment.unix(t).utc().format('H:m:s')\n  }\n  \n\n  return (\n    <div style={{ height: '700px', width: '100%' }}>\n      {/*<DataGridPro\n        \n        columns={getGridDef(props.view)}\n        rows={props.orders}\n\n        treeData\n        getTreeDataPath={getChildRows}\n\n        pageSize={50}\n        rowsPerPageOptions={[50]}\n        //checkboxSelection\n      />*/}\n\n      <DataGrid\n        columns={getGridDef(props.view)}\n        rows={props.orders}\n\n        pageSize={50}\n        rowsPerPageOptions={[50]}\n        //checkboxSelection\n        disableSelectionOnClick\n      />\n      \n    </div>\n  );\n}\nexport default DemoArchive;"]},"metadata":{},"sourceType":"module"}
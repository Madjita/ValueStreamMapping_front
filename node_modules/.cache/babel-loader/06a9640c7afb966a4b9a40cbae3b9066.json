{"ast":null,"code":"var _jsxFileName = \"/Users/sergeismogliuk/Documents/Project/Project_node/Diplom/react-diplom/react-diplom/src/components/Diagrams/Diagram.js\";\nimport React from \"react\";\nimport { DiagramComponent, HierarchicalTree, MindMap, RadialTree, ComplexHierarchicalTree, DataBinding, Snapping, PrintAndExport, BpmnDiagrams, SymmetricLayout, ConnectorBridging, UndoRedo, LayoutAnimation, DiagramContextMenu, ConnectorEditing, Inject, SnapConstraints, DiagramTools } from \"@syncfusion/ej2-react-diagrams\"; //import { AccumulationChartComponent, AccumulationSeriesCollectionDirective, AccumulationSeriesDirective, AccumulationDataLabel, PieSeries, AccumulationLegend, AccumulationTooltip } from '@syncfusion/ej2-react-charts';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet diagramInstance = DiagramComponent;\nvar template = diagramTemplate;\n\nfunction findGIP(a, b) {\n  return Math.sqrt(a * a + b * b);\n}\n\nfunction findPixelProsent(need, heigh) {\n  return need * heigh / 100;\n}\n\nfunction sin(b, a) {\n  return b / a; //  прилижайщий катит к другому катиту\n}\n\nfunction findPoint(percent, x, y) {\n  let H_pointPx = y * percent / 100; // Нашли сколько же пикселей занимает по высоте наши проценты\n\n  let pointPx = H_pointPx; // находим точку по высоте если считать снизу\n\n  return findPointSin(pointPx, x / 2, y); // находим длину по X\n}\n\nfunction findPointSin(b, a1, b1) {\n  console.log(\"b= \", b, \"a1= \", a1, \"b1 = \", b1);\n  return b * a1 / b1;\n}\n\nfunction findA(c1, b) {\n  return Math.sqrt(c1 * c1 - b * b);\n}\n\nfunction diagramTemplate(props) {\n  let x = 100;\n  let y = 100;\n  let percent = Math.floor(Math.random() * y);\n  let point_Y = y - y * percent / 100;\n  let point_X = findPoint(percent, x, y);\n  let byze = point_Y + y * 10 / 100; // плюс 10%\n\n  let point_Y_2 = point_Y;\n  let point_X_2 = x - point_X;\n  console.log(\"point= \", point_X); //let points = \"0,100 \"+find+\",\"+point+\" \"+find+\",0 100,100\"\n\n  if (props.id === \"pie\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"80\",\n        height: \"80\",\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        stroke: \"#000000\",\n        strokeWidth: \"0.5\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        className: \"feather feather-database\",\n        children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n          points: \"0,100 50,0 100,100\",\n          fill: \"violet\",\n          stroke: \"purple\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 50,0 100,100\",\n            fill: \"gray\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 40,20 60,20 100,100\",\n            fill: \"red\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 30,40 70,40 100,100\",\n            fill: \"yellow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 20,60 80,60 100,100\",\n            fill: \"blue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 10,80 90,80 100,100\",\n            fill: \"green\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this);\n  }\n\n  if (props.id === \"pieCircl\") {\n    let str = \"M0,\" + y + \" \" + point_X + \",\" + point_Y + \" Q 50,\" + byze + \" \" + point_X_2 + \",\" + point_Y_2 + \" \" + point_X_2 + \",\" + point_Y_2 + \" \" + x + \",\" + y;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"80\",\n        height: \"80\",\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        stroke: \"#000000\",\n        strokeWidth: \"0.5\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        className: \"feather feather-database\",\n        children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n          points: \"0,100 50,0 100,100\",\n          fill: \"lightgray\",\n          stroke: \"lightgray\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: str,\n            fill: \"green\",\n            stroke: \"green\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (props.id === \"datastore\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"80\",\n        height: \"80\",\n        viewBox: \"0 0 100 100\",\n        fill: \"none\",\n        stroke: \"#000000\",\n        strokeWidth: \"0.5\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        className: \"feather feather-database\",\n        children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n          points: \"0,100 50,0 100,100\",\n          fill: \"violet\",\n          stroke: \"purple\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 50,0 100,100\",\n            fill: \"gray\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 40,20 C 90,80  60,20 100,100\",\n            fill: \"red\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 30,40 C 90,100  70,40 100,100\",\n            fill: \"yellow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 20,60 C 100,100  80,60 100,100\",\n            fill: \"blue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0,100 10,80 C 90,100  90,80 100,100\",\n            fill: \"green\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n}\n\nclass Diagram extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.diagramInstance = diagramInstance;\n    this.state = {\n      myStyle: this.props.myStyle,\n      diagram: this.props.diagram,\n      connectors: this.props.connectors,\n      update: true\n    };\n  }\n\n  // A node is created and stored in nodes array.\n  async api(ip, port, command) {\n    // GET request using fetch with async/await\n    const response = await fetch(\"http://\" + ip + \":\" + port + command);\n    const data = await response.json();\n    return data;\n  }\n\n  async create_customer(element) {\n    //let http = \"http://\"+window.ip+\":\"+window.port\n    console.log(\"element\", element.oldProperties.id);\n\n    switch (element.oldProperties.id) {\n      case \"Customer\":\n        {\n          //api/reason_customer/insert/:Node_name_id/:offsetX/:offsetY\"\n          //const response = await fetch(http+\"/api/reason_customer/insert/\"+element.properties.id+\"/\"+element.properties.offsetX+\"/\"+element.properties.offsetY)\n          //const data = await response;\n          //return data\n          break;\n        }\n\n      case \"Process\":\n        {\n          break;\n        }\n\n      case \"External_Shipment\":\n        {\n          break;\n        }\n\n      case \"Inventory_customer_supplier\":\n        {\n          break;\n        }\n\n      case \"Production_control\":\n        {\n          break;\n        }\n\n      default:\n        break;\n    }\n  }\n\n  update_position(element) {\n    var myData = [];\n    element.forEach(item => {\n      myData.push({\n        id: item.properties.id,\n        offsetX: item.properties.offsetX,\n        offsetY: item.properties.offsetY\n      });\n    }); //console.log(JSON.stringify(myData))\n    //api/reason_customer/insert/:Node_name_id/:offsetX/:offsetY\"\n    //let http = \"http://\"+window.ip+\":\"+window.port\n    //fetch(http+\"/api/vsm/update_position/\")\n    //.then(response => response.json());\n  }\n\n  componentDidMount() {\n    console.log(\"DiagramViewBox componentDidMount\");\n    this.interval = setInterval(() => {\n      let rand = Math.floor(Math.random() * 60); //diagramInstance.nodes[1].annotations[0].content = rand.toString()\n      //diagramInstance.nodeTemplate = diagramInstance.nodeTemplate(diagramInstance.props)\n      //diagramInstance.nodes[1].properties.shape.content = \"<p>dsfasd</p>\"\n      //console.log(diagramInstance.nodes.filter(function(obj) {\n      // return (obj.id === \"pieCircl\");\n      // }))\n      //this.setState({update: !this.state.update})\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    console.log(\"DiagramViewBox componentWillUnmount\");\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      myStyle,\n      diagram\n    } = this.state;\n    console.log(\"DFSFA\");\n    return /*#__PURE__*/_jsxDEV(DiagramComponent, {\n      id: \"diagram\",\n      ref: diagram => diagramInstance = diagram,\n      width: '100%',\n      height: '100%',\n      snapSettings: {\n        constraints: SnapConstraints.None\n      } // Add node\n      ,\n      nodes: diagram,\n      connectors: this.state.connectors,\n      drop: e => {\n        //console.log(\"drop\",e)\n        //console.log(\"drop length\",e.element.annotations.length)\n        this.create_customer(e.element); //e.element.annotations[0].content = \"#1\"\n        //e.newValue[0].annotations[0].content = \"#1\"\n      },\n      positionChange: e => {\n        switch (e.state) {\n          case \"Completed\":\n            {\n              console.log(\"position\", e.source.nodes);\n              if (e.source.nodes !== undefined) this.update_position(e.source.nodes);\n              break;\n            }\n\n          case \"Progress\":\n            {\n              break;\n            }\n\n          case \"Start\":\n            {\n              break;\n            }\n\n          default:\n            break;\n        }\n      },\n      dragTargetEnd: e => {\n        console.log(\"dragTargetEnd\", e);\n      },\n      tool: DiagramTools.ZoomPan\n      /* selectionChange={(e)=>{\n       \n         console.log(\"SELECT\",e.newValue)\n       }}*/\n      ,\n      created: () => {\n        console.log(\"render Diagram = \", this.children); //console.log(diagramInstance.getActiveLayer())\n        //this.diagramInstance.getActiveLayer();\n        // diagramInstance.tool = DiagramTools.ZoomPan;\n        //diagramInstance.dataBind();\n\n        diagramInstance.scrollChange = args => {//Obtains the pan status\n          //let panStatus = args.panState;\n        }; //diagramInstance.tool = DiagramTools.ZoomPan;\n        //diagramInstance.dataBind();\n\n        /*diagramInstance.scrollChange = { args: IScrollChangeEventArgs => {\n        //Obtains the pan status\n        console.log(IScrollChangeEventArgs)\n        let panStatus = IScrollChangeEventArgs.panState;}}\n        }*/\n\n      } //Disables mouse over tooltip at runtime\n      ,\n      tooltip: null,\n      style: myStyle,\n      nodeTemplate: diagramTemplate.bind(this),\n      children: /*#__PURE__*/_jsxDEV(Inject, {\n        width: '200px',\n        height: '200px',\n        services: [HierarchicalTree, MindMap, RadialTree, ComplexHierarchicalTree, DataBinding, Snapping, PrintAndExport, BpmnDiagrams, SymmetricLayout, ConnectorBridging, UndoRedo, LayoutAnimation, DiagramContextMenu, ConnectorEditing]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Diagram;","map":{"version":3,"sources":["/Users/sergeismogliuk/Documents/Project/Project_node/Diplom/react-diplom/react-diplom/src/components/Diagrams/Diagram.js"],"names":["React","DiagramComponent","HierarchicalTree","MindMap","RadialTree","ComplexHierarchicalTree","DataBinding","Snapping","PrintAndExport","BpmnDiagrams","SymmetricLayout","ConnectorBridging","UndoRedo","LayoutAnimation","DiagramContextMenu","ConnectorEditing","Inject","SnapConstraints","DiagramTools","diagramInstance","template","diagramTemplate","findGIP","a","b","Math","sqrt","findPixelProsent","need","heigh","sin","findPoint","percent","x","y","H_pointPx","pointPx","findPointSin","a1","b1","console","log","findA","c1","props","floor","random","point_Y","point_X","byze","point_Y_2","point_X_2","id","str","Diagram","PureComponent","constructor","state","myStyle","diagram","connectors","update","api","ip","port","command","response","fetch","data","json","create_customer","element","oldProperties","update_position","myData","forEach","item","push","properties","offsetX","offsetY","componentDidMount","interval","setInterval","rand","componentWillUnmount","clearInterval","render","constraints","None","e","source","nodes","undefined","ZoomPan","children","scrollChange","args","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,gBADF,EAEEC,gBAFF,EAGEC,OAHF,EAIEC,UAJF,EAKEC,uBALF,EAMEC,WANF,EAOEC,QAPF,EAQEC,cARF,EASEC,YATF,EAUEC,eAVF,EAWEC,iBAXF,EAYEC,QAZF,EAaEC,eAbF,EAcEC,kBAdF,EAeEC,gBAfF,EAgBEC,MAhBF,EAiBEC,eAjBF,EAkBEC,YAlBF,QAmBO,gCAnBP,C,CAqBA;;;AAIA,IAAIC,eAAe,GAAGlB,gBAAtB;AAIA,IAAImB,QAAQ,GAAGC,eAAf;;AAGA,SAASC,OAAT,CAAiBC,CAAjB,EAAmBC,CAAnB,EACA;AACE,SAAOC,IAAI,CAACC,IAAL,CAAUH,CAAC,GAACA,CAAF,GAAIC,CAAC,GAACA,CAAhB,CAAP;AACD;;AAED,SAASG,gBAAT,CAA0BC,IAA1B,EAA+BC,KAA/B,EACA;AACE,SAAQD,IAAI,GAACC,KAAN,GAAa,GAApB;AACD;;AAED,SAASC,GAAT,CAAaN,CAAb,EAAeD,CAAf,EACA;AACE,SAAOC,CAAC,GAACD,CAAT,CADF,CACa;AACZ;;AAGD,SAASQ,SAAT,CAAmBC,OAAnB,EAA2BC,CAA3B,EAA6BC,CAA7B,EACA;AACG,MAAIC,SAAS,GAAID,CAAC,GAACF,OAAH,GAAY,GAA5B,CADH,CACmC;;AAChC,MAAII,OAAO,GAAGD,SAAd,CAFH,CAE2B;;AAExB,SAAOE,YAAY,CAACD,OAAD,EAASH,CAAC,GAAC,CAAX,EAAaC,CAAb,CAAnB,CAJH,CAIsC;AACrC;;AAED,SAASG,YAAT,CAAsBb,CAAtB,EAAwBc,EAAxB,EAA2BC,EAA3B,EACA;AACGC,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBjB,CAAlB,EAAoB,MAApB,EAA2Bc,EAA3B,EAA8B,OAA9B,EAAsCC,EAAtC;AACA,SAAQf,CAAC,GAACc,EAAH,GAAOC,EAAd;AACF;;AAGD,SAASG,KAAT,CAAeC,EAAf,EAAkBnB,CAAlB,EACA;AACE,SAAOC,IAAI,CAACC,IAAL,CAAUiB,EAAE,GAACA,EAAH,GAAMnB,CAAC,GAACA,CAAlB,CAAP;AACD;;AAED,SAASH,eAAT,CAAyBuB,KAAzB,EAA+B;AAC7B,MAAIX,CAAC,GAAG,GAAR;AACA,MAAIC,CAAC,GAAG,GAAR;AACA,MAAIF,OAAO,GAAGP,IAAI,CAACoB,KAAL,CAAWpB,IAAI,CAACqB,MAAL,KAAgBZ,CAA3B,CAAd;AACA,MAAIa,OAAO,GAAGb,CAAC,GAAIA,CAAC,GAACF,OAAH,GAAY,GAA9B;AACA,MAAIgB,OAAO,GAAGjB,SAAS,CAACC,OAAD,EAASC,CAAT,EAAWC,CAAX,CAAvB;AACA,MAAIe,IAAI,GAAGF,OAAO,GAAGb,CAAC,GAAC,EAAH,GAAO,GAA3B,CAN6B,CAMG;;AAEhC,MAAIgB,SAAS,GAAGH,OAAhB;AACA,MAAII,SAAS,GAAGlB,CAAC,GAAGe,OAApB;AAEAR,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBO,OAAtB,EAX6B,CAa7B;;AACA,MAAIJ,KAAK,CAACQ,EAAN,KAAa,KAAjB,EAAwB;AACpB,wBACE;AAAA,6BACA;AAAK,QAAA,KAAK,EAAC,4BAAX;AAAwC,QAAA,KAAK,EAAC,IAA9C;AAAmD,QAAA,MAAM,EAAC,IAA1D;AAA+D,QAAA,OAAO,EAAC,aAAvE;AAAqF,QAAA,IAAI,EAAC,MAA1F;AAAiG,QAAA,MAAM,EAAC,SAAxG;AAAkH,QAAA,WAAW,EAAC,KAA9H;AAAoI,QAAA,aAAa,EAAC,OAAlJ;AAA0J,QAAA,cAAc,EAAC,OAAzK;AAAiL,QAAA,SAAS,EAAC,0BAA3L;AAAA,gCAEE;AAAS,UAAA,MAAM,EAAC,oBAAhB;AAAqC,UAAA,IAAI,EAAC,QAA1C;AAAmD,UAAA,MAAM,EAAC,QAA1D;AAAmE,UAAA,WAAW,EAAC;AAA/E;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,qBAAR;AAA8B,YAAA,IAAI,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,4BAAR;AAAqC,YAAA,IAAI,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,4BAAR;AAAqC,YAAA,IAAI,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,4BAAR;AAAqC,YAAA,IAAI,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,4BAAR;AAAqC,YAAA,IAAI,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADF;AAqBH;;AAED,MAAIR,KAAK,CAACQ,EAAN,KAAa,UAAjB,EAA6B;AAE3B,QAAIC,GAAG,GAAG,QAAMnB,CAAN,GAAQ,GAAR,GAAYc,OAAZ,GAAoB,GAApB,GAAwBD,OAAxB,GAAgC,QAAhC,GAAyCE,IAAzC,GAA8C,GAA9C,GAAkDE,SAAlD,GAA4D,GAA5D,GAAgED,SAAhE,GAA0E,GAA1E,GAA8EC,SAA9E,GAAwF,GAAxF,GAA4FD,SAA5F,GAAsG,GAAtG,GAA0GjB,CAA1G,GAA4G,GAA5G,GAAgHC,CAA1H;AACA,wBACE;AAAA,6BACA;AAAK,QAAA,KAAK,EAAC,4BAAX;AAAwC,QAAA,KAAK,EAAC,IAA9C;AAAmD,QAAA,MAAM,EAAC,IAA1D;AAA+D,QAAA,OAAO,EAAC,aAAvE;AAAqF,QAAA,IAAI,EAAC,MAA1F;AAAiG,QAAA,MAAM,EAAC,SAAxG;AAAkH,QAAA,WAAW,EAAC,KAA9H;AAAoI,QAAA,aAAa,EAAC,OAAlJ;AAA0J,QAAA,cAAc,EAAC,OAAzK;AAAiL,QAAA,SAAS,EAAC,0BAA3L;AAAA,gCAEE;AAAS,UAAA,MAAM,EAAC,oBAAhB;AAAqC,UAAA,IAAI,EAAC,WAA1C;AAAsD,UAAA,MAAM,EAAC,WAA7D;AAAyE,UAAA,WAAW,EAAC;AAArF;AAAA;AAAA;AAAA;AAAA,gBAFF,eASE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAEmB,GAAT;AAAc,YAAA,IAAI,EAAC,OAAnB;AAA2B,YAAA,MAAM,EAAC;AAAlC;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADF;AAuBH;;AAEC,MAAGT,KAAK,CAACQ,EAAN,KAAa,WAAhB,EACA;AACE,wBACE;AAAA,6BACE;AAAK,QAAA,KAAK,EAAC,4BAAX;AAAwC,QAAA,KAAK,EAAC,IAA9C;AAAmD,QAAA,MAAM,EAAC,IAA1D;AAA+D,QAAA,OAAO,EAAC,aAAvE;AAAqF,QAAA,IAAI,EAAC,MAA1F;AAAiG,QAAA,MAAM,EAAC,SAAxG;AAAkH,QAAA,WAAW,EAAC,KAA9H;AAAoI,QAAA,aAAa,EAAC,OAAlJ;AAA0J,QAAA,cAAc,EAAC,OAAzK;AAAiL,QAAA,SAAS,EAAC,0BAA3L;AAAA,gCAEE;AAAS,UAAA,MAAM,EAAC,oBAAhB;AAAqC,UAAA,IAAI,EAAC,QAA1C;AAAmD,UAAA,MAAM,EAAC,QAA1D;AAAmE,UAAA,WAAW,EAAC;AAA/E;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,qBAAR;AAA8B,YAAA,IAAI,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,qCAAR;AAA8C,YAAA,IAAI,EAAC;AAAnD;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,sCAAR;AAA+C,YAAA,IAAI,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,uCAAR;AAAgD,YAAA,IAAI,EAAC;AAArD;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE;AAAA,iCAAG;AAAM,YAAA,CAAC,EAAC,sCAAR;AAA+C,YAAA,IAAI,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAoBD;AACF;;AAED,MAAME,OAAN,SAAsBtD,KAAK,CAACuD,aAA5B,CAA0C;AACtCC,EAAAA,WAAW,CAACZ,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAWjBzB,eAXiB,GAWEA,eAXF;AAEf,SAAKsC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,KAAKd,KAAL,CAAWc,OADT;AAEXC,MAAAA,OAAO,EAAE,KAAKf,KAAL,CAAWe,OAFT;AAGXC,MAAAA,UAAU,EAAE,KAAKhB,KAAL,CAAWgB,UAHZ;AAIXC,MAAAA,MAAM,EAAE;AAJG,KAAb;AAQD;;AAED;AAGS,QAAHC,GAAG,CAACC,EAAD,EAAIC,IAAJ,EAASC,OAAT,EAAkB;AACzB;AACA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,YAAUJ,EAAV,GAAa,GAAb,GAAiBC,IAAjB,GAAsBC,OAAvB,CAA5B;AACA,UAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,WAAOD,IAAP;AACD;;AAGoB,QAAfE,eAAe,CAACC,OAAD,EACrB;AACE;AACA/B,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB8B,OAAO,CAACC,aAAR,CAAsBpB,EAA5C;;AAEA,YAAOmB,OAAO,CAACC,aAAR,CAAsBpB,EAA7B;AAEE,WAAK,UAAL;AAAgB;AACd;AAEA;AACA;AACA;AACA;AACD;;AACD,WAAK,SAAL;AAAe;AACb;AACD;;AACD,WAAK,mBAAL;AAAyB;AACvB;AACD;;AACD,WAAK,6BAAL;AACA;AACI;AACH;;AACD,WAAK,oBAAL;AACA;AACI;AACH;;AACD;AACE;AAzBJ;AA8BD;;AAEFqB,EAAAA,eAAe,CAACF,OAAD,EACd;AACE,QAAIG,MAAM,GAAG,EAAb;AACAH,IAAAA,OAAO,CAACI,OAAR,CAAgBC,IAAI,IAAG;AACrBF,MAAAA,MAAM,CAACG,IAAP,CAAY;AACVzB,QAAAA,EAAE,EAAEwB,IAAI,CAACE,UAAL,CAAgB1B,EADV;AAEV2B,QAAAA,OAAO,EAAEH,IAAI,CAACE,UAAL,CAAgBC,OAFf;AAGVC,QAAAA,OAAO,EAAEJ,IAAI,CAACE,UAAL,CAAgBE;AAHf,OAAZ;AAKD,KAND,EAFF,CAUE;AACA;AACA;AACA;AACA;AACD;;AAGDC,EAAAA,iBAAiB,GAAG;AAClBzC,IAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACA,SAAKyC,QAAL,GAAgBC,WAAW,CAAC,MAAM;AAChC,UAAIC,IAAI,GAAG3D,IAAI,CAACoB,KAAL,CAAWpB,IAAI,CAACqB,MAAL,KAAgB,EAA3B,CAAX,CADgC,CAEhC;AAEA;AACA;AACA;AACC;AACJ;AAEG;AACD,KAX0B,EAWxB,IAXwB,CAA3B;AAYD;;AAEDuC,EAAAA,oBAAoB,GAAG;AACrB7C,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACA6C,IAAAA,aAAa,CAAC,KAAKJ,QAAN,CAAb;AACD;;AAIDK,EAAAA,MAAM,GAAG;AAEP,UAAM;AAAC7B,MAAAA,OAAD;AAASC,MAAAA;AAAT,QAAoB,KAAKF,KAA/B;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAGA,wBACA,QAAC,gBAAD;AAAmB,MAAA,EAAE,EAAC,SAAtB;AAAgC,MAAA,GAAG,EAAEkB,OAAO,IAAKxC,eAAe,GAAGwC,OAAnE;AACA,MAAA,KAAK,EAAI,MADT;AAEA,MAAA,MAAM,EAAI,MAFV;AAGA,MAAA,YAAY,EAAE;AAAE6B,QAAAA,WAAW,EAAEvE,eAAe,CAACwE;AAA/B,OAHd,CAIA;AAJA;AAKA,MAAA,KAAK,EACH9B,OANF;AAQA,MAAA,UAAU,EACR,KAAKF,KAAL,CAAWG,UATb;AAYA,MAAA,IAAI,EAAG8B,CAAD,IAAK;AACT;AACA;AACA,aAAKpB,eAAL,CAAqBoB,CAAC,CAACnB,OAAvB,EAHS,CAIT;AAEA;AACD,OAnBD;AAqBA,MAAA,cAAc,EAAGmB,CAAD,IAAK;AAEnB,gBAAOA,CAAC,CAACjC,KAAT;AAEE,eAAK,WAAL;AAAiB;AACfjB,cAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBiD,CAAC,CAACC,MAAF,CAASC,KAAhC;AACA,kBAAGF,CAAC,CAACC,MAAF,CAASC,KAAT,KAAmBC,SAAtB,EACE,KAAKpB,eAAL,CAAqBiB,CAAC,CAACC,MAAF,CAASC,KAA9B;AAEJ;AAAS;;AACT,eAAK,UAAL;AAAgB;AAAC;AAAO;;AACxB,eAAK,OAAL;AAAa;AAAC;AAAO;;AACrB;AAAU;AAVZ;AAeD,OAtCD;AAwCA,MAAA,aAAa,EAAGF,CAAD,IAAK;AAClBlD,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BiD,CAA5B;AACD,OA1CD;AA6CA,MAAA,IAAI,EACFxE,YAAY,CAAC4E;AAIhB;AACP;AACA;AACA;AArDQ;AAsDA,MAAA,OAAO,EACL,MAAM;AACJtD,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgC,KAAKsD,QAArC,EADI,CAEJ;AACA;AAGD;AACC;;AACA5E,QAAAA,eAAe,CAAC6E,YAAhB,GAA+BC,IAAI,IAAI,CACvC;AACA;AACA,SAHA,CARI,CAcJ;AACA;;AACA;AACZ;AACA;AACA;AACA;;AACW,OA5EH,CA+EI;AA/EJ;AAgFI,MAAA,OAAO,EACL,IAjFN;AAqFE,MAAA,KAAK,EAAIvC,OArFX;AAsFE,MAAA,YAAY,EAAErC,eAAe,CAAC6E,IAAhB,CAAqB,IAArB,CAtFhB;AAAA,6BA0FC,QAAC,MAAD;AAAS,QAAA,KAAK,EAAI,OAAlB;AACD,QAAA,MAAM,EAAI,OADT;AAEP,QAAA,QAAQ,EAAE,CACRhG,gBADQ,EAERC,OAFQ,EAGRC,UAHQ,EAIRC,uBAJQ,EAKRC,WALQ,EAMRC,QANQ,EAORC,cAPQ,EAQRC,YARQ,EASRC,eATQ,EAURC,iBAVQ,EAWRC,QAXQ,EAYRC,eAZQ,EAaRC,kBAbQ,EAcRC,gBAdQ;AAFH;AAAA;AAAA;AAAA;AAAA;AA1FD;AAAA;AAAA;AAAA;AAAA,YADA;AA+GD;;AA5NmC;;AAgO1C,eAAeuC,OAAf","sourcesContent":["import React from \"react\";\nimport { \n  DiagramComponent,\n  HierarchicalTree,\n  MindMap,\n  RadialTree,\n  ComplexHierarchicalTree,\n  DataBinding,\n  Snapping,\n  PrintAndExport,\n  BpmnDiagrams,\n  SymmetricLayout,\n  ConnectorBridging,\n  UndoRedo,\n  LayoutAnimation,\n  DiagramContextMenu,\n  ConnectorEditing,\n  Inject,\n  SnapConstraints,\n  DiagramTools,\n} from \"@syncfusion/ej2-react-diagrams\";\n\n//import { AccumulationChartComponent, AccumulationSeriesCollectionDirective, AccumulationSeriesDirective, AccumulationDataLabel, PieSeries, AccumulationLegend, AccumulationTooltip } from '@syncfusion/ej2-react-charts';\n\n\n\nlet diagramInstance = DiagramComponent;\n\n\n\nvar template = diagramTemplate;\n\n\nfunction findGIP(a,b)\n{\n  return Math.sqrt(a*a+b*b)\n}\n\nfunction findPixelProsent(need,heigh)\n{\n  return (need*heigh)/100\n}\n\nfunction sin(b,a)\n{\n  return b/a //  прилижайщий катит к другому катиту\n}\n\n\nfunction findPoint(percent,x,y)\n{\n   let H_pointPx = (y*percent)/100 // Нашли сколько же пикселей занимает по высоте наши проценты\n   let pointPx = H_pointPx // находим точку по высоте если считать снизу\n\n   return findPointSin(pointPx,x/2,y) // находим длину по X\n}\n\nfunction findPointSin(b,a1,b1)\n{\n   console.log(\"b= \",b,\"a1= \",a1,\"b1 = \",b1)\n   return (b*a1)/b1\n}\n\n\nfunction findA(c1,b)\n{\n  return Math.sqrt(c1*c1-b*b)\n}\n\nfunction diagramTemplate(props){\n  let x = 100;\n  let y = 100;\n  let percent = Math.floor(Math.random() * y)\n  let point_Y = y - (y*percent)/100;\n  let point_X = findPoint(percent,x,y)\n  let byze = point_Y+((y*10)/100) // плюс 10%\n\n  let point_Y_2 = point_Y\n  let point_X_2 = x - point_X\n\n  console.log(\"point= \",point_X)\n\n  //let points = \"0,100 \"+find+\",\"+point+\" \"+find+\",0 100,100\"\n  if (props.id === \"pie\") {\n      return (\n        <div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" viewBox=\"0 0 100 100\" fill=\"none\" stroke=\"#000000\" strokeWidth=\"0.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-database\">\n          {/*<path d=\"M 0 0 0 100 100 100 100 0 0 0 L\"></path>*/}\n          <polygon points=\"0,100 50,0 100,100\" fill=\"violet\" stroke=\"purple\" strokeWidth=\"1\"></polygon>\n          <g><path d=\"M0,100 50,0 100,100\" fill=\"gray\" ></path></g>\n          <g><path d=\"M0,100 40,20 60,20 100,100\" fill=\"red\" ></path></g>\n          <g><path d=\"M0,100 30,40 70,40 100,100\" fill=\"yellow\" ></path></g>\n          <g><path d=\"M0,100 20,60 80,60 100,100\" fill=\"blue\"></path></g>\n          <g><path d=\"M0,100 10,80 90,80 100,100\" fill=\"green\" ></path></g>\n          \n          \n         \n          {/*<polyline points=\"0,100 10,80 90,80 100,100\" fill=\"green\" stroke=\"purple\" stroke-width=\"1\"></polyline>\n          <polyline points=\"10,80 20,60 80,60 90,80\" fill=\"blue\" stroke=\"purple\" stroke-width=\"2\"></polyline>\n    <polyline points=\"20,60 30,40 70,40 80,60\" fill=\"yellow\" stroke=\"purple\" stroke-width=\"2\"></polyline>*/}\n\n          \n        </svg>\n      </div>\n      );\n  }\n\n  if (props.id === \"pieCircl\") {\n\n    let str = \"M0,\"+y+\" \"+point_X+\",\"+point_Y+\" Q 50,\"+byze+\" \"+point_X_2+\",\"+point_Y_2+\" \"+point_X_2+\",\"+point_Y_2+\" \"+x+\",\"+y\n    return (\n      <div>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" viewBox=\"0 0 100 100\" fill=\"none\" stroke=\"#000000\" strokeWidth=\"0.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-database\">\n        {/*<path d=\"M 0 0 0 100 100 100 100 0 0 0 L\"></path>*/}\n        <polygon points=\"0,100 50,0 100,100\" fill=\"lightgray\" stroke=\"lightgray\" strokeWidth=\"1\"></polygon>\n        {/*<g><path d=\"M0,100 50,0 100,100\" fill=\"gray\" ></path></g>\n        <g><path d=\"M0,100 40,20 Q 50,25 60,20 60,20 100,100\" fill=\"red\" ></path></g>\n        <g><path d=\"M0,100 30,40 Q 50,50 70,40 70,40 100,100\" fill=\"yellow\" stroke=\"yellow\"></path></g>\n        <g><path d=\"M0,100 20,60 Q 50,70 80,60 80,60 100,100\" fill=\"blue\" stroke=\"blue\"></path></g>\n        <g><path d=\"M0,100 10,80 Q 50,90 90,80 90,80 100,100\" fill=\"green\" stroke=\"green\"></path></g>*/}\n\n        <g><path d={str} fill=\"green\" stroke=\"green\"></path></g>\n        \n        \n       \n        {/*<polyline points=\"0,100 10,80 90,80 100,100\" fill=\"green\" stroke=\"purple\" stroke-width=\"1\"></polyline>\n        <polyline points=\"10,80 20,60 80,60 90,80\" fill=\"blue\" stroke=\"purple\" stroke-width=\"2\"></polyline>\n  <polyline points=\"20,60 30,40 70,40 80,60\" fill=\"yellow\" stroke=\"purple\" stroke-width=\"2\"></polyline>*/}\n\n        \n      </svg>\n    </div>\n    );\n}\n\n  if(props.id === \"datastore\")\n  {\n    return (\n      <div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" viewBox=\"0 0 100 100\" fill=\"none\" stroke=\"#000000\" strokeWidth=\"0.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-database\">\n          {/*<path d=\"M 0 0 0 100 100 100 100 0 0 0 L\"></path>*/}\n          <polygon points=\"0,100 50,0 100,100\" fill=\"violet\" stroke=\"purple\" strokeWidth=\"1\"></polygon>\n          <g><path d=\"M0,100 50,0 100,100\" fill=\"gray\" ></path></g>\n          <g><path d=\"M0,100 40,20 C 90,80  60,20 100,100\" fill=\"red\" ></path></g>\n          <g><path d=\"M0,100 30,40 C 90,100  70,40 100,100\" fill=\"yellow\" ></path></g>\n          <g><path d=\"M0,100 20,60 C 100,100  80,60 100,100\" fill=\"blue\"></path></g>\n          <g><path d=\"M0,100 10,80 C 90,100  90,80 100,100\" fill=\"green\" ></path></g>\n          \n         \n          {/*<polyline points=\"0,100 10,80 90,80 100,100\" fill=\"green\" stroke=\"purple\" stroke-width=\"1\"></polyline>\n          <polyline points=\"10,80 20,60 80,60 90,80\" fill=\"blue\" stroke=\"purple\" stroke-width=\"2\"></polyline>\n    <polyline points=\"20,60 30,40 70,40 80,60\" fill=\"yellow\" stroke=\"purple\" stroke-width=\"2\"></polyline>*/}\n\n          \n        </svg>\n      </div>\n      )\n  }\n}\n\nclass Diagram extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n          myStyle: this.props.myStyle,\n          diagram: this.props.diagram,\n          connectors: this.props.connectors,\n          update: true,\n        };\n\n       \n      }\n      diagramInstance =  diagramInstance;\n      // A node is created and stored in nodes array.\n\n\n      async api(ip,port,command) {\n        // GET request using fetch with async/await\n        const response = await fetch(\"http://\"+ip+\":\"+port+command);\n        const data = await response.json();\n        return data\n      }\n\n\n      async create_customer(element)\n      {\n        //let http = \"http://\"+window.ip+\":\"+window.port\n        console.log(\"element\",element.oldProperties.id);\n\n        switch(element.oldProperties.id)\n        {\n          case \"Customer\":{\n            //api/reason_customer/insert/:Node_name_id/:offsetX/:offsetY\"\n        \n            //const response = await fetch(http+\"/api/reason_customer/insert/\"+element.properties.id+\"/\"+element.properties.offsetX+\"/\"+element.properties.offsetY)\n            //const data = await response;\n            //return data\n            break;\n          }\n          case \"Process\":{\n            break;\n          }\n          case \"External_Shipment\":{\n            break;\n          }\n          case \"Inventory_customer_supplier\":\n          {\n              break;\n          }\n          case \"Production_control\":\n          {\n              break;\n          }\n          default:\n            break;\n        }\n\n        \n        \n      }\n\n     update_position(element)\n      {\n        var myData = []\n        element.forEach(item =>{\n          myData.push({\n            id: item.properties.id,\n            offsetX: item.properties.offsetX,\n            offsetY: item.properties.offsetY\n          })\n        })\n\n        //console.log(JSON.stringify(myData))\n        //api/reason_customer/insert/:Node_name_id/:offsetX/:offsetY\"\n        //let http = \"http://\"+window.ip+\":\"+window.port\n        //fetch(http+\"/api/vsm/update_position/\")\n        //.then(response => response.json());\n      }\n\n     \n      componentDidMount() {\n        console.log(\"DiagramViewBox componentDidMount\")\n        this.interval = setInterval(() => {\n          let rand = Math.floor(Math.random() * 60);\n          //diagramInstance.nodes[1].annotations[0].content = rand.toString()\n\n          //diagramInstance.nodeTemplate = diagramInstance.nodeTemplate(diagramInstance.props)\n          //diagramInstance.nodes[1].properties.shape.content = \"<p>dsfasd</p>\"\n          //console.log(diagramInstance.nodes.filter(function(obj) {\n           // return (obj.id === \"pieCircl\");\n       // }))\n\n          //this.setState({update: !this.state.update})\n        }, 1000);\n      }\n      \n      componentWillUnmount() {\n        console.log(\"DiagramViewBox componentWillUnmount\")\n        clearInterval(this.interval);\n      }\n\n      \n\n      render() {\n\n        const {myStyle,diagram} = this.state\n        console.log(\"DFSFA\")\n     \n\n        return (\n        <DiagramComponent  id=\"diagram\" ref={diagram => (diagramInstance = diagram)}\n        width = {'100%'}\n        height = {'100%'}\n        snapSettings={{ constraints: SnapConstraints.None }}\n        // Add node\n        nodes = {\n          diagram\n        }\n        connectors = {\n          this.state.connectors\n        }\n\n        drop={(e)=>{\n          //console.log(\"drop\",e)\n          //console.log(\"drop length\",e.element.annotations.length)\n          this.create_customer(e.element)\n          //e.element.annotations[0].content = \"#1\"\n        \n          //e.newValue[0].annotations[0].content = \"#1\"\n        }}\n\n        positionChange={(e)=>{\n\n          switch(e.state)\n          {\n            case \"Completed\":{\n              console.log(\"position\",e.source.nodes)\n              if(e.source.nodes !== undefined)\n                this.update_position(e.source.nodes)\n            \n            break;  }\n            case \"Progress\":{break;}\n            case \"Start\":{break;}\n            default:  break;\n          }\n          \n\n          \n        }}\n\n        dragTargetEnd={(e)=>{\n          console.log(\"dragTargetEnd\",e)\n        }}\n\n        \n        tool = {\n          DiagramTools.ZoomPan\n      }\n\n        \n       /* selectionChange={(e)=>{\n        \n          console.log(\"SELECT\",e.newValue)\n        }}*/\n        created = {\n          () => {\n            console.log(\"render Diagram = \",this.children)\n            //console.log(diagramInstance.getActiveLayer())\n            //this.diagramInstance.getActiveLayer();\n\n\n           // diagramInstance.tool = DiagramTools.ZoomPan;\n            //diagramInstance.dataBind();\n            diagramInstance.scrollChange = args => {\n            //Obtains the pan status\n            //let panStatus = args.panState;\n           }\n\n \n            //diagramInstance.tool = DiagramTools.ZoomPan;\n            //diagramInstance.dataBind();\n            /*diagramInstance.scrollChange = { args: IScrollChangeEventArgs => {\n            //Obtains the pan status\n            console.log(IScrollChangeEventArgs)\n            let panStatus = IScrollChangeEventArgs.panState;}}\n            }*/\n          }\n        }\n\n            //Disables mouse over tooltip at runtime\n            tooltip = {\n              null\n          }\n\n\n          style = {myStyle}\n          nodeTemplate={diagramTemplate.bind(this)}\n        \n\n       >\n         <Inject  width = {'200px'}\n        height = {'200px'}\n  services={[\n    HierarchicalTree,\n    MindMap,\n    RadialTree,\n    ComplexHierarchicalTree,\n    DataBinding,\n    Snapping,\n    PrintAndExport,\n    BpmnDiagrams,\n    SymmetricLayout,\n    ConnectorBridging,\n    UndoRedo,\n    LayoutAnimation,\n    DiagramContextMenu,\n    ConnectorEditing\n  ]}\n/>\n       </DiagramComponent>);\n      }\n}\n\n\nexport default Diagram;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}
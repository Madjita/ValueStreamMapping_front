{"ast":null,"code":"var _jsxFileName = \"/Users/sergeismogliuk/Documents/Project/My_experience/New_project_diplom/front/src/Component/Dialog/SelectList.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport serverApiHost, { port } from \"../../global\";\nimport axios from 'axios';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/*const currencies = [\n  {\n    name: 'Продукт 1',\n    quantity: 1\n  },\n  {\n    name: 'Продукт 2',\n    quantity: 1\n  },\n  {\n    name: 'Продукт 3',\n    quantity: 1\n  },\n  {\n    name: 'Продукт 4',\n    quantity: 1\n  },\n];*/\nexport default function SelectList(props) {\n  _s();\n\n  const [product, setProduct] = React.useState('');\n  const [quantity, setQuantity] = React.useState(0); //const {productions, loading} = useTypedSelector(state => state.productions);\n  //const {getAllProducts} = useActionProduction()\n\n  const [productions, SetProductions] = React.useState();\n  const [loading, SetLoading] = React.useState(false);\n\n  const getAllProducts = async () => {\n    const response = await axios.get('http://' + serverApiHost + ':' + port + '/api/cardVSM/getAllProducts');\n\n    if (response.status === 200) {\n      let data = response.data;\n      console.log(\"Loading finish getAllProducts\");\n      console.log(data);\n      SetProductions(data);\n      SetLoading(true);\n    }\n  };\n\n  React.useEffect(() => {\n    getAllProducts();\n  }, []);\n\n  const handleChange = event => {\n    props.setData(event.target.value, quantity);\n    setProduct(event.target.value);\n  };\n\n  const onChange = e => {\n    const re = /^[0-9\\b]+$/;\n\n    if (e.target.value === '' || re.test(e.target.value)) {\n      let n = Number(e.target.value);\n      props.setData(product, n);\n      setQuantity(n);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"form\",\n    sx: {\n      '& .MuiTextField-root': {\n        m: 1,\n        width: '25ch'\n      }\n    },\n    noValidate: true,\n    autoComplete: \"off\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        id: \"standard-select-currency\",\n        select: true,\n        label: \"\\u0412\\u044B\\u0431\\u0438\\u0440\\u0438\\u0442\\u0435\",\n        value: product,\n        onChange: handleChange,\n        helperText: \"\\u0412\\u044B\\u0431\\u0438\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\",\n        variant: \"standard\",\n        inputProps: {\n          min: 0,\n          style: {\n            textAlign: 'center'\n          }\n        } // the change is here\n        ,\n        children: (productions === null || productions === void 0 ? void 0 : productions.length) === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this) : productions === null || productions === void 0 ? void 0 : productions.map((option, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: option.name,\n          children: option.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        onChange: onChange,\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"quantity\",\n        label: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",\n        type: \"quantity\",\n        fullWidth: true,\n        variant: \"standard\",\n        value: quantity > 0 ? quantity : '',\n        inputProps: {\n          min: 0,\n          style: {\n            textAlign: 'center'\n          }\n        } // the change is here\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SelectList, \"ubzzCbQIk6voqAqxZOzugnoCNJw=\");\n\n_c = SelectList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectList\");","map":{"version":3,"sources":["/Users/sergeismogliuk/Documents/Project/My_experience/New_project_diplom/front/src/Component/Dialog/SelectList.tsx"],"names":["React","Box","TextField","MenuItem","serverApiHost","port","axios","CircularProgress","SelectList","props","product","setProduct","useState","quantity","setQuantity","productions","SetProductions","loading","SetLoading","getAllProducts","response","get","status","data","console","log","useEffect","handleChange","event","setData","target","value","onChange","e","re","test","n","Number","m","width","min","style","textAlign","length","display","justifyContent","map","option","index","name"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport serverApiHost,{port} from \"../../global\";\nimport axios from 'axios'\nimport CircularProgress from '@mui/material/CircularProgress';\nimport IDialogAddOrderItem from '../Data/Dialog/IDialogAddOrderItem'\nimport { useActionProduction } from '../../hooks/useActionProductions';\nimport { useTypedSelector } from '../../hooks/leftMenuSelector';\nimport IDataOrder from '../Data/IDataOrder'\n/*const currencies = [\n  {\n    name: 'Продукт 1',\n    quantity: 1\n  },\n  {\n    name: 'Продукт 2',\n    quantity: 1\n  },\n  {\n    name: 'Продукт 3',\n    quantity: 1\n  },\n  {\n    name: 'Продукт 4',\n    quantity: 1\n  },\n];*/\n\nexport default function SelectList(props:{data: IDialogAddOrderItem, setData: (product: string, q: number) => void;}) {\n  const [product, setProduct] = React.useState<string>('');\n  const [quantity, setQuantity] = React.useState<number>(0);\n\n  //const {productions, loading} = useTypedSelector(state => state.productions);\n  //const {getAllProducts} = useActionProduction()\n\n  const [productions,SetProductions] = React.useState<IDataOrder[]>();\n  const [loading, SetLoading] = React.useState(false);\n\n  const getAllProducts = async () =>{\n    const response = await axios.get('http://'+serverApiHost+':'+port+'/api/cardVSM/getAllProducts')\n\n    if(response.status === 200)\n    {\n        let data = response.data as IDataOrder[];\n        console.log(\"Loading finish getAllProducts\")\n        console.log(data);\n\n        SetProductions(data);\n        SetLoading(true);\n    }\n\n  }\n\n\n\n  React.useEffect(() => {\n    getAllProducts();   \n  },[])\n    \n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    props.setData(event.target.value,quantity) \n    setProduct(event.target.value);\n    \n  };\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>)=>{      \n      const re = /^[0-9\\b]+$/;    \n      if (e.target.value === '' || re.test(e.target.value)) \n      {        \n        let n = Number(e.target.value);\n        props.setData(product,n)     \n        setQuantity(n)\n        \n      }\n   }\n   \n\n  return (\n    <Box\n      component=\"form\"\n      sx={{\n        '& .MuiTextField-root': { m: 1, width: '25ch' },\n      }}\n      noValidate\n      autoComplete=\"off\"\n    >\n      <div>\n      <TextField\n          id=\"standard-select-currency\"\n          select\n          label=\"Выбирите\"\n          value={product}\n          onChange={handleChange}\n          helperText=\"Выбирите продукт\"\n          variant=\"standard\"\n          inputProps={{min: 0, style: { textAlign: 'center' }}} // the change is here\n        >\n          \n          {productions?.length === 0 ? \n            <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n              <CircularProgress />\n            </Box>\n          : productions?.map((option, index) => (\n            <MenuItem key={index} value={option.name}>\n              {option.name}\n            </MenuItem>\n          ))}\n        </TextField>\n        <TextField\n            onChange={onChange}\n            autoFocus\n            margin=\"dense\"\n            id=\"quantity\"\n            label=\"Количество\"\n            type=\"quantity\"\n            fullWidth\n            variant=\"standard\"\n            value={quantity > 0 ? quantity: ''}\n            inputProps={{min: 0, style: { textAlign: 'center' }}} // the change is here\n          />\n      </div>\n    </Box>\n  )}"]},"metadata":{},"sourceType":"module"}